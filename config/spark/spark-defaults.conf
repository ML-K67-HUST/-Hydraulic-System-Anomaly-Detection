# Spark Default Configuration
# Used by Spark Structured Streaming consumer

# Spark Master
spark.master                     spark://spark-master:7077

# Application name
spark.app.name                   HydraulicSystemStreaming

# Driver settings
spark.driver.memory              2g
spark.driver.cores               2
spark.driver.maxResultSize       2g

# Executor settings
spark.executor.memory            2g
spark.executor.cores             2
spark.executor.instances         1

# Streaming settings
spark.sql.streaming.checkpointLocation    /tmp/spark-checkpoints/hydraulic-streaming
spark.sql.streaming.stopGracefullyOnShutdown    true
spark.sql.streaming.stopTimeout          60s

# Kafka integration
spark.sql.streaming.kafka.consumer.cache.enabled    true
spark.sql.streaming.kafka.consumer.cache.maxCapacity    1000

# Adaptive query execution
spark.sql.adaptive.enabled                true
spark.sql.adaptive.coalescePartitions.enabled    true
spark.sql.adaptive.skewJoin.enabled       true

# Serialization
spark.serializer                       org.apache.spark.serializer.KryoSerializer
spark.kryo.registrationRequired         false

# Logging
spark.eventLog.enabled                  true
spark.eventLog.dir                      /tmp/spark-events

# Network timeout
spark.network.timeout                   300s
spark.sql.streaming.stopTimeout         60s

# Shuffle settings
spark.sql.shuffle.partitions            200
spark.default.parallelism               200

# Memory management
spark.memory.fraction                   0.6
spark.memory.storageFraction            0.5

